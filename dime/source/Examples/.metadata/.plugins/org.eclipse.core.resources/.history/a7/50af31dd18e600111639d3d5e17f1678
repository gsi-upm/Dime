<?php 
			
// Required Twilio files

require "res/Slim/Slim.php";

// Slim files for states simulation. More information in 

require "res/Service/Twilio.php";


$app= new Slim();

// Defining constants

define("role","customer");


// Declaration of the states

// State start implementation

$app->post('/start', 'app_start');
function app_start() {
	
	
	
	
	
	
	
	// Update of the value of the global constants and variables, and the session params.
	
	
	
	// Declaration of the statements of the state.
	echo "<Response>";
	echo "<Say voice=\"man\" language=\"en\">".$greeting.role."</Say>\n" ;
	$greeting="Bye!";
	
	
	// Update the global variables and the session params.
	
	
	echo "</Response>;"
}
// State end implementation

$app->post('/end', 'app_end');
function app_end() {
	
	
	
	
	
	
	
	// Update of the value of the global constants and variables, and the session params.
	
	
	
	// Declaration of the statements of the state.
	echo "<Response>";
	echo "<Say voice=\"man\" language=\"en\">".$greeting.role."</Say>\n" ;
	echo "<Hangup /> \n" ;
	
	
	// Update the global variables and the session params.
	
	
	echo "</Response>;"
}

$app->run();

?>